<!DOCTYPE HTML>

<html lang='en'>
	<head>
		<title>git命令清单 &middot; Yeqown</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		
		
		
		<link rel="stylesheet" href="/assets/css/main.min.css">
		
		
		<link rel="shortcut icon" href="favicon.ico">
		
		
		<noscript><link rel="stylesheet" href='/assets/css/noscript.css' /></noscript>
		<link rel="stylesheet" href="/highlight/styles/monokai-sublime.css">
		
		<script src="/highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
	</head>
	<body lang='en' class="is-preload">

		
			<div id="wrapper">

                
<header id="header">
    <a href='/' class="logo">Yeqown</a>
</header>

                

<nav id="nav">
    <ul class="links">
        <li class="active"><a href='/'>Yeqown</a></li>
        
        <li><a href='/#footer'>Contact</a></li>
        
        
    </ul>
    
    <ul class="icons">
        
        <li><a href="https://twitter.com/yeqown" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
        
        
        
        
        
        <li><a href="https://github.com/yeqown" class="icon fa-github"><span class="label">GitHub</span></a></li>
        
        
        
        
        
    </ul>
    
</nav>


				
					<div id="main">

						
                        <section class="post">
                            <header class="major">
                                
                                <span class="date">January 11, 2018</span>
                                
                                <h1>git命令清单</h1>
                                <p>git命令清单。</p>
                            </header>
                            
                            <p>git命令清单</p>
<!-- more -->
<h3 id="基本命令">基本命令</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git help &lt;command&gt; <span style="color:#75715e"># 显示command的help</span>
git show <span style="color:#75715e"># 显示某次提交的内容 git show $id</span>
git co -- &lt;file&gt; <span style="color:#75715e"># 抛弃工作区修改</span>
git co . <span style="color:#75715e"># 抛弃工作区修改</span>
git add &lt;file&gt; <span style="color:#75715e"># 将工作文件修改提交到本地暂存区</span>
git add . <span style="color:#75715e"># 将所有修改过的工作文件提交暂存区</span>
git rm &lt;file&gt; <span style="color:#75715e"># 从版本库中删除文件</span>
git rm &lt;file&gt; --cached <span style="color:#75715e"># 从版本库中删除文件，但不删除文件</span>
git reset &lt;file&gt; <span style="color:#75715e"># 从暂存区恢复到工作文件</span>
git reset -- . <span style="color:#75715e"># 从暂存区恢复到工作文件</span>
git reset --hard <span style="color:#75715e"># 恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改</span>

<span style="color:#75715e"># git ci &lt;file&gt; </span>
git ci . git ci -a <span style="color:#75715e"># 将git add, git rm和git ci等操作都合并在一起做</span>
git ci -am <span style="color:#e6db74">&#34;some comments&#34;</span>
git ci --amend <span style="color:#75715e"># 修改最后一次提交记录</span>

git revert &lt;$id&gt; <span style="color:#75715e"># 恢复某次提交的状态，恢复动作本身也创建次提交对象</span>
git revert HEAD <span style="color:#75715e"># 恢复最后一次提交的状态</span>
</code></pre></div><h3 id="查看文件diff">查看文件(diff)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git diff &lt;file&gt; <span style="color:#75715e"># 比较当前文件和暂存区文件差异 git diff</span>
git diff &lt;id1&gt;&lt;id1&gt;&lt;id2&gt; <span style="color:#75715e"># 比较两次提交之间的差异</span>
git diff &lt;branch1&gt;..&lt;branch2&gt; <span style="color:#75715e"># 在两个分支之间比较</span>
git diff --staged <span style="color:#75715e"># 比较暂存区和版本库差异</span>
git diff --cached <span style="color:#75715e"># 比较暂存区和版本库差异</span>
git diff --stat <span style="color:#75715e"># 仅仅比较统计信息</span>
</code></pre></div><h3 id="查看提交记录log">查看提交记录(log)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git log git log &lt;file&gt; <span style="color:#75715e"># 查看该文件每次提交记录</span>
git log -p &lt;file&gt; <span style="color:#75715e"># 查看每次详细修改内容的diff</span>
git log -p -2 <span style="color:#75715e"># 查看最近两次详细修改内容的diff</span>
git log --stat <span style="color:#75715e">#查看提交统计信息</span>
</code></pre></div><pre><code>*tig: Mac上可以使用tig代替diff和log * brew install tig
</code></pre>
<h3 id="git-本地分支管理">Git 本地分支管理</h3>
<p>查看、切换、创建和删除分支</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git br -r <span style="color:#75715e"># 查看远程分支</span>
git br &lt;new_branch&gt; <span style="color:#75715e"># 创建新的分支</span>
git br -v <span style="color:#75715e"># 查看各个分支最后提交信息</span>
git br --merged <span style="color:#75715e"># 查看已经被合并到当前分支的分支</span>
git br --no-merged <span style="color:#75715e"># 查看尚未被合并到当前分支的分支</span>
git co &lt;branch&gt; <span style="color:#75715e"># 切换到某个分支</span>
git co -b &lt;new_branch&gt; <span style="color:#75715e"># 创建新的分支，并且切换过去</span>
git co -b &lt;new_branch&gt; &lt;branch&gt; <span style="color:#75715e"># 基于branch创建新的new_branch</span>
git co $id <span style="color:#75715e"># 把某次历史提交记录checkout出来，但无分支信息，切换到其他分支会自动删除</span>
git co $id -b &lt;new_branch&gt; <span style="color:#75715e"># 把某次历史提交记录checkout出来，创建成一个分支</span>
git br -d &lt;branch&gt; <span style="color:#75715e"># 删除某个分支</span>
git br -D &lt;branch&gt; <span style="color:#75715e"># 强制删除某个分支 (未被合并的分支被删除的时候需要强制)</span>
</code></pre></div><p>### 分支合并和rebase</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git merge &lt;branch&gt; <span style="color:#75715e"># 将branch分支合并到当前分支</span>
git merge origin/master --no-ff <span style="color:#75715e"># 不要Fast-Foward合并，这样可以生成merge提交</span>
git rebase master &lt;branch&gt; <span style="color:#75715e"># 将master rebase到branch，相当于： git co &lt;branch&gt; &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge &lt;branch&gt;</span>
</code></pre></div><h3 id="git补丁管理方便在多台机器上开发同步时用">Git补丁管理(方便在多台机器上开发同步时用)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git diff &gt; ../sync.patch <span style="color:#75715e"># 生成补丁</span>
git apply ../sync.patch <span style="color:#75715e"># 打补丁</span>
git apply --check ../sync.patch <span style="color:#75715e">#测试补丁能否成功</span>
</code></pre></div><p>### Git暂存管理</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git stash <span style="color:#75715e"># 暂存</span>
git stash list <span style="color:#75715e"># 列所有stash</span>
git stash apply <span style="color:#75715e"># 恢复暂存的内容</span>
git stash drop <span style="color:#75715e"># 删除暂存区</span>
</code></pre></div><h3 id="git远程分支管理">Git远程分支管理</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git pull <span style="color:#75715e"># 抓取远程仓库所有分支更新并合并到本地</span>
git pull --no-ff <span style="color:#75715e"># 抓取远程仓库所有分支更新并合并到本地，不要快进合并</span>
git fetch origin <span style="color:#75715e"># 抓取远程仓库更新</span>
git merge origin/master <span style="color:#75715e"># 将远程主分支合并到本地当前分支</span>
git co --track origin/branch <span style="color:#75715e"># 跟踪某个远程分支创建相应的本地分支</span>
git co -b &lt;local_branch&gt; origin/&lt;remote_branch&gt; <span style="color:#75715e"># 基于远程分支创建本地分支，功能同上</span>
git push <span style="color:#75715e"># push所有分支</span>
git push origin master <span style="color:#75715e"># 将本地主分支推到远程主分支</span>
git push -u origin master <span style="color:#75715e"># 将本地主分支推到远程(如无远程主分支则创建，用于初始化远程仓库)</span>
git push origin &lt;local_branch&gt; <span style="color:#75715e"># 创建远程分支， origin是远程仓库名</span>
git push origin &lt;local_branch&gt;:&lt;remote_branch&gt; <span style="color:#75715e"># 创建远程分支</span>
git push origin :&lt;remote_branch&gt; <span style="color:#75715e">#先删除本地分支(git br -d &lt;branch&gt;)，然后再push删除远程分支</span>
</code></pre></div><h3 id="git远程仓库管理">Git远程仓库管理</h3>
<p>GitHub</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git remote -v <span style="color:#75715e"># 查看远程服务器地址和仓库名称</span>
git remote show origin <span style="color:#75715e"># 查看远程服务器仓库状态</span>
git remote add origin git@ github:robbin/robbin_site.git <span style="color:#75715e"># 添加远程仓库地址</span>
git remote set-url origin git@ github.com:robbin/robbin_site.git <span style="color:#75715e"># 设置远程仓库地址(用于修改远程仓库地址) git remote rm &lt;repository&gt; # 删除远程仓库</span>
</code></pre></div><h3 id="创建远程仓库">创建远程仓库</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git clone --bare robbin_site robbin_site.git <span style="color:#75715e"># 用带版本的项目创建纯版本仓库</span>
scp -r my_project.git git@ git.csdn.net:~ <span style="color:#75715e"># 将纯仓库上传到服务器上</span>
mkdir robbin_site.git <span style="color:#f92672">&amp;&amp;</span> cd robbin_site.git <span style="color:#f92672">&amp;&amp;</span> git --bare init <span style="color:#75715e"># 在服务器创建纯仓库</span>
git remote add origin git@ github.com:robbin/robbin_site.git <span style="color:#75715e"># 设置远程仓库地址</span>
git push -u origin master <span style="color:#75715e"># 客户端首次提交</span>
git push -u origin develop <span style="color:#75715e"># 首次将本地develop分支提交到远程develop分支，并且track</span>
git remote set-head origin master <span style="color:#75715e"># 设置远程仓库的HEAD指向master分支</span>
</code></pre></div><h3 id="设置跟踪远程库和本地库">设置跟踪远程库和本地库</h3>
<pre><code>git branch --set-upstream master origin/master
git branch --set-upstream develop origin/develop
</code></pre>

                            
                            
                            
                            
                            
                        </section>

					</div>

                    

<footer id="footer">
    
    <section>
      <form method="post" action="post-action">
        <div class="fields">
          <div class="field">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" />
          </div>
          <div class="field">
            <label for="email">Email</label>
            <input type="text" name="email" id="email" />
          </div>
          <div class="field">
            <label for="message">Message</label>
            <textarea name="message" id="message" rows="3"></textarea>
          </div>
        </div>
        <ul class="actions">
          <li><input type="submit" value='Send A Message' /></li>
        </ul>
      </form>
    </section>
    
    <section class="split contact">
        
        <section class="alt">
            <h3>Address</h3>
            <p>
                
                     Chengdu · China
                
                     <br/>  This is a city that comes and doesn&#39;t want to go
                
            </p>
        </section>
        
        
        <section>
            <h3>Phone</h3>
            <p><a href="tel:no%20way">no way</a></p>
        </section>
        
        
        <section>
            <h3>Email</h3>
            <p><a href="mailto:yeqown@gmail.com">yeqown@gmail.com</a></p>
        </section>
        
        
        <section>
            <h3>Social</h3>
            <ul class="icons alt">
                
                <li><a href="https://twitter.com/yeqown" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
                
                
                
                
                
                <li><a href="https://github.com/yeqown" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
                
                
                
                
                
            </ul>
        </section>
        
    </section>
</footer>

                    
<div id="copyright">
    <ul><li>&copy; Yeqown</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li><li>Hugo Port: <a href="https://curtistimson.co.uk">curttimson</a></li></ul>
</div>


            </div>
            
            










<script src='/assets/js/bundle.js'></script>
	</body>
</html>
